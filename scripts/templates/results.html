<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>PQC Batch {{ batch }}</title>
        
        <style type="text/css" media="screen">
            th {text-align:left; padding-left:10px; padding-right:10px; }
            td {text-align:right; padding-left:10px; padding-right:10px; }
            
        </style>
        <!--h1 {color:red;}-->
    </head>
    <body>

    <h1>PQC Batch {{ batch }}: </h1>
    
    {# formatting options (ie html, text, latex): #}
    {% set labelformat='        <th><a href="plotpage.html?sample={0:s}" target="_blank">{0:s}</a></th>\n' %}
    {% set valueformat='        <td style="{1:s};">{0:s}</td>\n' %}
    {% set colheaderformat='        <th>{0:s}</td>\n' %}
    {% set tableheaderformat='<h2>{0:s}</h2>\n' %}
    {% set afterheaderrows= '<tr style="border-bottom:1px solid black"><td colspan="100%"><hr/></td></tr>'%}
    {% set startRowStr='    <tr>\n' %}
    {% set endRowStr='    </tr>\n' %}
    {% set afterresultrows= '<tr style="border-bottom:1px solid black"><td colspan="100%"><hr/></td></tr>'%}
    {% set afterstatsrows= '<tr style="border-bottom:1px solid black"><td colspan="100%"><hr/></td></tr>'%}
    {% set startTableStr='<table border="0">' %}
    {% set endTableStr='</table>' %}
    
    {% set statusdict={0: '', 1: '', 2: 'background-color:#edfc1b', 3: 'background-color:#fc8c0c', 4: 'background-color:#fc3f42'} %}

    
    {# shape options, values per table (here one flute each) #}
    {% set flute1=['v_th', 'v_fb2', 'c_acc_m', 't_ox', 'n_ox', 'vdp_poly_f', 'vdp_poly_r', 'vdp_n_f', 'vdp_n_r', 'vdp_pstop_f', 'vdp_pstop_r', 'cap_l', 'cap_r'] %}
    {% set flute2=['i_surf', 't_line_n', 't_line_pstop4', 't_line_pstop2', 'v_bd'] %}
    {% set flute3=['i600', 'v_fd', 'rho', 'conc', 'meander_metal', 'vdp_metclo_f', 'vdp_metclo_r', 'vdp_p_cross_bridge_f', 'vdp_p_cross_bridge_r', 't_line_p_cross_bridge', 'vdp_bulk_f', 'vdp_bulk_r'] %}
    {% set flute4=['i_surf05', 'r_contact_n', 'contact_p', 'contact_n'] %}
    {# the first element contains the columns, the second the name for the flute #}
    {% set tables=[(flute1, "Flute 1:"), (flute2, "Flute 2:"), (flute3, "Flute 3:"), (flute4, "Flute 4:")] %}
    




    {% for table in tables %}
    {{ tableheaderformat.format(table[1]) }}
    {{ startTableStr }}
    {{ startRowStr }}{{ labelformat.format('#') }}{% for key in table[0] %}{{ colheaderformat.format(dataseries[key].name) }}{% endfor %}
    {{ endRowStr }}
    {{ startRowStr }}{{ labelformat.format('#') }}{% for key in table[0] %}{{ colheaderformat.format(dataseries[key].unit) }}{% endfor %}
    {{ endRowStr }}
    {{ afterheaderrows }}
    {% for i in range(0, dataseries['vdp_pstop_r'].len() ) %}
    {{ startRowStr }}{{ labelformat.format(dataseries['xlabels'][i]) }}{% for key in table[0] %}{{ valueformat.format(dataseries[key].getValueString(i), statusdict[dataseries[key].getStatus(i)]) }}{% endfor %}
    {{ endRowStr }}
    {% endfor %}
    {{ afterresultrows }}
    {% for i in range(dataseries['vdp_pstop_r'].len(), dataseries['vdp_pstop_r'].len()+5) %}{{ startRowStr }}
    {{ labelformat.format(dataseries['xlabels'][i]) }}{% for key in table[0] %}{{ valueformat.format(dataseries[key].getValueString(i), statusdict[dataseries[key].getStatus(i)]) }}{% endfor %}
    {{ endRowStr }}
    {% endfor %}
    {{ afterstatsrows }}
    {{ endTableStr }}
    {% endfor %}
    
    </body>
</html>
